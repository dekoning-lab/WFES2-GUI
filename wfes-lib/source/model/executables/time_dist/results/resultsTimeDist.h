#ifndef RESULTSTIMEDIST_H
#define RESULTSTIMEDIST_H

#include <boost/math/special_functions/fpclassify.hpp>

#include "utils/types.h"

/**
 * @brief The ResultsTimeDist class encapsulates the results generated by an
 * execution of time dist.
 */
class ResultsTimeDist {
    public:
        /**
         * @brief Execution time.
         */
        double time;

        /**
         * @brief Probabilities calculated.
         * Column 1 represents time, or each generation.
         * Column 2 represents probability of substitution at a given time.
         * Column 3 represents the acumulated value of column 2.
         * In Time Dist. and Time Dist. Dual is different:
         * Column 1 represents time, or each generation.
         * Column 2 represents probability of extinction at a given time.
         * Column 3 represents probability of xation at a given time.
         * Column 4 represents probability of absorption (either) at a given time.
         * Column 5 represents cumulative probability of absorption.
         */
        dmat probs;

        /**
         * @brief String containing possible errors during execution.
         * This is later shown to the user in a MessageDialog.
         */
        std::string error;

        /**
         * @brief Empty constructor of ResultsTimeDist.
         */
        ResultsTimeDist();

        /**
         * @brief Constructor of ResultsTimeDist with execution time.
         * @param time Execution time.
         */
        ResultsTimeDist(double time);

        /**
         * @brief Constructor of ResultsTimeDist when an error happens during execution.
         * @param error Description of the error or message generated by the error.
         */
        ResultsTimeDist(std::string error);

        /**
         * @brief Constructor of ResultsTimeDist that returns probs to generate a chart.
         * @param probs Probabilities calculated.
         * @param time Execution time.
         */
        ResultsTimeDist(dmat probs, double time);

};

#endif // RESULTSTIMEDIST_H
